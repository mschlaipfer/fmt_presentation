\documentclass{beamer}
\usepackage[utf8]{inputenc}
\usepackage{uniinput}
\usepackage{proof}
\usepackage[english]{babel}
\usepackage{xstring}
\usepackage{ulem}
\usepackage{boxedminipage} 

\usepackage{tikz}
\usetikzlibrary{chains,fit,shapes}

\usetheme{Madrid}
\usecolortheme{seahorse}
\setbeamertemplate{navigation symbols}{}
\setbeamertemplate{footline}[frame number]
\setbeamertemplate{headline}{%
\leavevmode%
  \hbox{%
    \begin{beamercolorbox}[wd=\paperwidth,ht=2.5ex,dp=1.125ex]{palette quaternary}%
    \insertsectionnavigationhorizontal{\paperwidth}{}{\hskip0pt plus1filll}
    \end{beamercolorbox}%
  }
}

\newcommand{\backupbegin}{
   \newcounter{finalframe}
   \setcounter{finalframe}{\value{framenumber}}
}
\newcommand{\backupend}{
   \setcounter{framenumber}{\value{finalframe}}
}

\newcommand{\SO}{\ensuremath{\mathrm{SO}}}
\newcommand{\FO}{\ensuremath{\mathrm{FO}}}
\newcommand{\structa}{\ensuremath{\mathfrak{A}}}
\newcommand{\minel}{\ensuremath{\underline{\mathrm{min}}}}
\newcommand{\blankcell}{\ensuremath{T_{\Box}}}
\newcommand{\nonblankcell}{\ensuremath{T_{\blacksquare}}}

\title{Turing Machines and Finite Models}
\author{Matthias Schlaipfer \and Sebastian Zivota}

\begin{document}

\begin{frame}[plain]
	\titlepage
\end{frame}

%\begin{frame}
%	\frametitle{Outline}
%	\tableofcontents
%\end{frame}

\begin{frame}
  \frametitle{Outlook}
  \begin{itemize}
    \item Connection between finite model theory and complexity theory
    \item By coding Turing machines in various logics
  \end{itemize}
  \vspace{2em} 
  \begin{alertblock}{Important Results}
  \begin{itemize}
    \item Trakhtenbrot's theorem: Finite satisfiability is undecidable
    \item Fagin's theorem: $\exists \SO$ captures $\mathrm{NP}$
  \end{itemize}
  \end{alertblock}
\end{frame}

\section{Background}

\begin{frame}
  \frametitle{Turing Machines}

  \begin{block}{Notation}
    $M = (Q, \Sigma, \Delta, \delta, q_0, Q_a, Q_r)$
    \begin{itemize}
      \item $Q$ \ldots states
      \item $\Sigma$ \ldots input alphabet
      \item $\Delta$ \ldots tape alphabet
      \item $\delta$ \ldots transition function
      \item $q_0$ \ldots initial state
      \item $Q_a$ / $Q_r$ \ldots accepting / rejecting states
    \end{itemize}

  \end{block}

  \begin{center}
  \begin{tikzpicture}
    \tikzstyle{every path}=[very thick]

    \edef\sizetape{0.7cm}
    \tikzstyle{tmtape}=[draw,minimum size=\sizetape]
    \tikzstyle{tmhead}=[arrow box,draw,minimum size=.5cm,arrow box
    arrows={east:.25cm, west:0.25cm}]
    \tikzstyle{tmprog}=[draw,minimum size=.5cm]

    %% Draw TM tape
    \begin{scope}[start chain=1 going right,node distance=-0.15mm]
        \node [on chain=1,tmtape,draw=none] {$\ldots$};
        \node [on chain=1,tmtape] {};
        \node [on chain=1,tmtape] (input) {b};
        \node [on chain=1,tmtape] {b};
        \node [on chain=1,tmtape] {a};
        \node [on chain=1,tmtape] {a};
        \node [on chain=1,tmtape] {a};
        \node [on chain=1,tmtape] {a};
        \node [on chain=1,tmtape] {};
        \node [on chain=1,tmtape,draw=none] {$\ldots$};
    \end{scope}

    %% Draw TM head below (input) tape cell
    \node [tmhead,yshift=-.3cm] at (input.south) (head) {$q_1$};
    \node [tmprog,yshift=-.7cm] at (head.south) (prog) {$\delta$};
    \draw [->] (prog) to (head);

    \end{tikzpicture}
    \nocite{tm_figure}
    \end{center}
  
\end{frame}

\begin{frame}
  \frametitle{Some Results on TM}

  \begin{itemize}
    \item The \textbf{halting problem} is undecidable.
    \item The \textbf{blank tape halting problem} is undecidable.
      \begin{center}
        \begin{boxedminipage}{.5\textwidth}
          \begin{tabbing}
            \quad\=\quad\=\quad\=\kill\\
                {\tt halts}$(M,x)$\\
                \>{\tt if} $\mathsf{encode}(\mathsf{sim}(M, x)) \in \mathbf{BTHP}$\\
                \>\>yes\\
                \>{\tt else}\\
                \>\>no\\
          \end{tabbing}
        \end{boxedminipage}
      \end{center}
  \end{itemize}

  
\end{frame}

\begin{frame}
  \frametitle{Some Results on FOL}

  \begin{itemize}
    \item Completeness: a sentence $\phi$ is valid iff it is provable
    \item Proofs can be enumerated $\longrightarrow$ valid $\FO$ sentences
    recursively enumerable
  \end{itemize}

  \begin{definition}[Validity]
    All structures $\structa$, finite or infinite, are models of $\phi$.
    ($\structa \models \phi$)
  \end{definition}
  
\end{frame}

\section{Trakhtenbrot's Theorem}

\begin{frame}
  \frametitle{Trakhtenbrot's Theorem and Failure of Completeness}

  \begin{definition}[Finite Satisfiability]
    Given a vocabulary $\sigma$, a sentence $\phi$ in that vocabulary is called
    finitely satisfiable if there is a finite structure $\structa \in
    \mathrm{STRUCT}[\sigma]$ such that $\structa \models \phi$.
  \end{definition}
  
  \pause

  \begin{theorem}[Trakhtenbrot]
    For every relational vocabulary $\sigma$ with at least one binary relation
    symbol, it is undecidable whether a sentence $\phi$ of vocabulary
    $\sigma$ is finitely satisfiable.
  \end{theorem}

\end{frame}

\begin{frame}
  \frametitle{Proof Idea}

  \begin{itemize}
    \item Code Turing machines in $\FO$
    \item For every TM $M$, construct a sentence $\phi_M$ of vocabulary $\sigma$
    such that $\phi_M$ is finitely satisfiable iff $M$ halts on the empty input.
  \end{itemize}

\end{frame}

\begin{frame}
  \frametitle{Encoding}

  \centering
  \begin{enumerate}
    \only<1->{\item $<$ is a linear order and $\minel$ is its minimal element}
    \only<2->{\item Initially tape is blank}
      \only<2>{\begin{align*}
        H_{q_0}(\minel, \minel) \wedge \forall p \blankcell(p, \minel)
      \end{align*}}
    \only<3->{\item Either a cell is blank or not}
      \only<3>{\begin{align*}
        \forall p \forall t
        \left(\blankcell(p, t)
        \Leftrightarrow \neg \nonblankcell(p, t)\right)
      \end{align*}}
    \only<4->{\item Machine is in one state at a time}
      \only<4>{\begin{align*}
        \forall t \exists !p &\left( \bigvee_{q \in Q} H_q(p,t) \right)
        \wedge \\ \neg \exists p \exists t &\left( \bigvee_{q, q' \in Q, q \neq q'}
        H_q(p, t) \wedge H_{q'}(p,t) \right)
      \end{align*}}
    \only<5->{\item Machine respects the transition relation}
    %TODO
      \only<5>{\small \begin{align*}
        \forall p \forall t 
        \left(
          \begin{array}{cc}
                   & p = \minel\\
            \wedge & \blankcell(p, t)\\
            \wedge & H_q(p,t)
          \end{array}
        \right)
          \Rightarrow
        \left(
          \begin{array}{cc}
                   & \nonblankcell(p, t+1)\\
            \wedge & H_{q'}(p, t+1)\\
            \wedge &
              \begin{array}[x]{@{}c@{}} 
            \forall p' \left(p \neq p' \Rightarrow \right. \\ \left. \left( \bigwedge_{i =
            \Box,\blacksquare} T_i(p',t+1) \Leftrightarrow
            T_i(p',t)\right)\right)
              \end{array}
          \end{array}
        \right)
      \end{align*}}
    \only<6->{\item Finally, the machine halts}
      \only<6>{\begin{align*}
        \exists p \exists t \bigvee_{q \in Q_a \cup Q_r} H_q(p,t)
      \end{align*}}
  \end{enumerate}
  
\end{frame}

\begin{frame}
  \frametitle{Proof Argument}

  
\end{frame}

\begin{frame}
  \frametitle{Corollaries}

  \begin{corollary}[Failure of completeness in the finite]
    For any vocabulary containing at least one binary relation symbol, the set
    of finitely valid sentences is not recursively enumerable.
  \end{corollary}

  \begin{corollary}[No analog to LÃ¶wenheim-Skolem for finite models]
    There is no recursive function $f$ such that if $\phi$ has a finite model,
    then it has a model of size at most $f(\phi)$.
  \end{corollary}
  
\end{frame}

\section{}
\bibliography{presentation}
\bibliographystyle{plain}

\end{document}
